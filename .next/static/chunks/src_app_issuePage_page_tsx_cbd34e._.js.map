{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/PP_2/KRB2/12345%20%E2%80%94%20%D0%BA%D0%BE%D0%BF%D0%B8%D1%8F%20%E2%80%94%20%D0%BA%D0%BE%D0%BF%D0%B8%D1%8F/rater/src/app/issuePage/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { api } from \"~/trpc/react\";\r\nimport { useState } from \"react\";\r\nimport { useSession } from \"next-auth/react\";\r\n\r\n\r\n\r\nexport default function ProductsHistoryPage() {\r\n  const { data: session } = useSession();\r\n  const [activeTab, setActiveTab] = useState<\"issued\" | \"declined\">(\"issued\");\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n\r\n\r\n  const { data: issuedData, isLoading: issuedLoading } = api.product.getIssuedProducts.useQuery({\r\n    search: searchTerm,\r\n  });\r\n\r\n  const { data: declinedData, isLoading: declinedLoading } = api.product.getDeclinedProducts.useQuery({\r\n    search: searchTerm,\r\n  });\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <h1 className=\"text-2xl font-bold mb-6\">История товаров</h1>\r\n\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <div className=\"flex space-x-4\">\r\n          <button\r\n            className={`px-4 py-2 rounded ${activeTab === \"issued\" ? 'bg-blue-600 text-white' : 'bg-gray-200'}`}\r\n            onClick={() => setActiveTab(\"issued\")}\r\n          >\r\n            Выданные товары\r\n          </button>\r\n          <button\r\n            className={`px-4 py-2 rounded ${activeTab === \"declined\" ? 'bg-blue-600 text-white' : 'bg-gray-200'}`}\r\n            onClick={() => setActiveTab(\"declined\")}\r\n          >\r\n            Отказанные товары\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"flex space-x-10\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Поиск по товару или пользователю\"\r\n            className=\"px-10 py-2 border rounded\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {issuedLoading || declinedLoading ? (\r\n        <div className=\"text-center py-8\">Загрузка...</div>\r\n      ) : activeTab === \"issued\" ? (\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full bg-white border\">\r\n            <thead>\r\n              <tr className=\"bg-gray-100\">\r\n                <th className=\"py-2 px-4 border\">Товар</th>\r\n                <th className=\"py-2 px-4 border\">Количество</th>\r\n                <th className=\"py-2 px-4 border\">Получатель</th>\r\n                <th className=\"py-2 px-4 border\">Дата выдачи</th>\r\n                <th className=\"py-2 px-4 border\">Комментарий</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {issuedData?.map((item) => (\r\n                <tr key={item.id} className=\"hover:bg-gray-50\">\r\n                  <td className=\"py-2 px-4 border\">{item.product.name}</td>\r\n                  <td className=\"py-2 px-4 border text-center\">{item.quantity}</td>\r\n                  <td className=\"py-2 px-4 border\">{item.user.name} {item.user.name} </td>\r\n                  <td className=\"py-2 px-4 border\">\r\n                    {new Date(item.issuedAt).toLocaleDateString('ru-RU', {\r\n                      day: '2-digit',\r\n                      month: '2-digit',\r\n                      year: 'numeric',\r\n                      hour: '2-digit',\r\n                      minute: '2-digit'\r\n                    })}\r\n                  </td>\r\n                  <td className=\"py-2 px-4 border\">{item.comment || '-'}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      ) : (\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full bg-white border\">\r\n            <thead>\r\n              <tr className=\"bg-gray-100\">\r\n                <th className=\"py-2 px-4 border\">Товар</th>\r\n                <th className=\"py-2 px-4 border\">Количество</th>\r\n                <th className=\"py-2 px-4 border\">Пользователь</th>\r\n                <th className=\"py-2 px-4 border\">Дата отказа</th>\r\n                <th className=\"py-2 px-4 border\">Причина</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {declinedData?.map((item) => (\r\n                <tr key={item.id} className=\"hover:bg-gray-50\">\r\n                  <td className=\"py-2 px-4 border\">{item.product.name}</td>\r\n                  <td className=\"py-2 px-4 border text-center\">{item.quantity}</td>\r\n                  <td className=\"py-2 px-4 border\">{item.user.name}</td>\r\n                  <td className=\"py-2 px-4 border\">\r\n                    {new Date(item.declinedAt).toLocaleDateString('ru-RU', {\r\n                      day: '2-digit',\r\n                      month: '2-digit',\r\n                      year: 'numeric',\r\n                      hour: '2-digit',\r\n                      minute: '2-digit'\r\n                    })}\r\n                  </td>\r\n                  <td className=\"py-2 px-4 border\">{item.reason}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAQe,SAAS;;IACtB,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,CAAA,GAAA,oPAAA,CAAA,aAAU,AAAD;IACnC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,4QAAA,CAAA,WAAQ,AAAD,EAAyB;IAClE,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,4QAAA,CAAA,WAAQ,AAAD,EAAE;IAG7C,MAAM,EAAE,MAAM,UAAU,EAAE,WAAW,aAAa,EAAE,GAAG,wHAAA,CAAA,MAAG,CAAC,OAAO,CAAC,iBAAiB,CAAC,QAAQ,CAAC;QAC5F,QAAQ;IACV;IAEA,MAAM,EAAE,MAAM,YAAY,EAAE,WAAW,eAAe,EAAE,GAAG,wHAAA,CAAA,MAAG,CAAC,OAAO,CAAC,mBAAmB,CAAC,QAAQ,CAAC;QAClG,QAAQ;IACV;IAEA,qBACE,4SAAC;QAAI,WAAU;;0BACb,4SAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAExC,4SAAC;gBAAI,WAAU;;kCACb,4SAAC;wBAAI,WAAU;;0CACb,4SAAC;gCACC,WAAW,CAAC,kBAAkB,EAAE,cAAc,WAAW,2BAA2B,eAAe;gCACnG,SAAS,IAAM,aAAa;0CAC7B;;;;;;0CAGD,4SAAC;gCACC,WAAW,CAAC,kBAAkB,EAAE,cAAc,aAAa,2BAA2B,eAAe;gCACrG,SAAS,IAAM,aAAa;0CAC7B;;;;;;;;;;;;kCAKH,4SAAC;wBAAI,WAAU;kCACb,cAAA,4SAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,WAAU;4BACV,OAAO;4BACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;YAKlD,iBAAiB,gCAChB,4SAAC;gBAAI,WAAU;0BAAmB;;;;;uBAChC,cAAc,yBAChB,4SAAC;gBAAI,WAAU;0BACb,cAAA,4SAAC;oBAAM,WAAU;;sCACf,4SAAC;sCACC,cAAA,4SAAC;gCAAG,WAAU;;kDACZ,4SAAC;wCAAG,WAAU;kDAAmB;;;;;;kDACjC,4SAAC;wCAAG,WAAU;kDAAmB;;;;;;kDACjC,4SAAC;wCAAG,WAAU;kDAAmB;;;;;;kDACjC,4SAAC;wCAAG,WAAU;kDAAmB;;;;;;kDACjC,4SAAC;wCAAG,WAAU;kDAAmB;;;;;;;;;;;;;;;;;sCAGrC,4SAAC;sCACE,YAAY,IAAI,CAAC,qBAChB,4SAAC;oCAAiB,WAAU;;sDAC1B,4SAAC;4CAAG,WAAU;sDAAoB,KAAK,OAAO,CAAC,IAAI;;;;;;sDACnD,4SAAC;4CAAG,WAAU;sDAAgC,KAAK,QAAQ;;;;;;sDAC3D,4SAAC;4CAAG,WAAU;;gDAAoB,KAAK,IAAI,CAAC,IAAI;gDAAC;gDAAE,KAAK,IAAI,CAAC,IAAI;gDAAC;;;;;;;sDAClE,4SAAC;4CAAG,WAAU;sDACX,IAAI,KAAK,KAAK,QAAQ,EAAE,kBAAkB,CAAC,SAAS;gDACnD,KAAK;gDACL,OAAO;gDACP,MAAM;gDACN,MAAM;gDACN,QAAQ;4CACV;;;;;;sDAEF,4SAAC;4CAAG,WAAU;sDAAoB,KAAK,OAAO,IAAI;;;;;;;mCAb3C,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;qCAoBxB,4SAAC;gBAAI,WAAU;0BACb,cAAA,4SAAC;oBAAM,WAAU;;sCACf,4SAAC;sCACC,cAAA,4SAAC;gCAAG,WAAU;;kDACZ,4SAAC;wCAAG,WAAU;kDAAmB;;;;;;kDACjC,4SAAC;wCAAG,WAAU;kDAAmB;;;;;;kDACjC,4SAAC;wCAAG,WAAU;kDAAmB;;;;;;kDACjC,4SAAC;wCAAG,WAAU;kDAAmB;;;;;;kDACjC,4SAAC;wCAAG,WAAU;kDAAmB;;;;;;;;;;;;;;;;;sCAGrC,4SAAC;sCACE,cAAc,IAAI,CAAC,qBAClB,4SAAC;oCAAiB,WAAU;;sDAC1B,4SAAC;4CAAG,WAAU;sDAAoB,KAAK,OAAO,CAAC,IAAI;;;;;;sDACnD,4SAAC;4CAAG,WAAU;sDAAgC,KAAK,QAAQ;;;;;;sDAC3D,4SAAC;4CAAG,WAAU;sDAAoB,KAAK,IAAI,CAAC,IAAI;;;;;;sDAChD,4SAAC;4CAAG,WAAU;sDACX,IAAI,KAAK,KAAK,UAAU,EAAE,kBAAkB,CAAC,SAAS;gDACrD,KAAK;gDACL,OAAO;gDACP,MAAM;gDACN,MAAM;gDACN,QAAQ;4CACV;;;;;;sDAEF,4SAAC;4CAAG,WAAU;sDAAoB,KAAK,MAAM;;;;;;;mCAbtC,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsBhC;GApHwB;;QACI,oPAAA,CAAA,aAAU;;;KADd"}},
    {"offset": {"line": 389, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}