{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/PP_2/12345%20%E2%80%94%20%D0%BA%D0%BE%D0%BF%D0%B8%D1%8F%20%E2%80%94%20%D0%BA%D0%BE%D0%BF%D0%B8%D1%8F/rater/src/app/ui/pagination.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/ui/pagination.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/ui/pagination.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,oXAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA6R,GAC1T,2DACA"}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file://D%3A/PP_2/12345%20%E2%80%94%20%D0%BA%D0%BE%D0%BF%D0%B8%D1%8F%20%E2%80%94%20%D0%BA%D0%BE%D0%BF%D0%B8%D1%8F/rater/src/app/ui/pagination.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/ui/pagination.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/ui/pagination.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,oXAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAyQ,GACtS,uCACA"}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file://D%3A/PP_2/12345%20%E2%80%94%20%D0%BA%D0%BE%D0%BF%D0%B8%D1%8F%20%E2%80%94%20%D0%BA%D0%BE%D0%BF%D0%B8%D1%8F/rater/src/app/_components/profile/userTable.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { PencilSquareIcon } from \"@heroicons/react/24/outline\";\r\nimport type { User } from \"@prisma/client\";\r\nimport Link from \"next/link\";\r\n\r\n\r\nexport default function UserTable({ users }: { users: User[] }) {\r\n  return (\r\n    <>\r\n      <table className=\"m-4 box-border\">\r\n        <thead>\r\n          <tr>\r\n            <th>Имя</th>\r\n            <th>Фамилия</th>\r\n            <th>Почта</th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {users.map((u) => (\r\n            <tr key={u.id}>\r\n              <td className=\"px-2\">{u.name}</td>\r\n              <td className=\"px-2\">{u.surname}</td>\r\n              <td className=\"px-2\">{u.email}</td>\r\n              <td className=\"px-2\">\r\n                <Link href={`/profile/${u.id}`}>\r\n                  <PencilSquareIcon className=\"w-4\" />\r\n                </Link>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      \r\n    </>\r\n    \r\n  );\r\n}"],"names":[],"mappings":";;;;AAGA;AAFA;;;;AAKe,SAAS,UAAU,EAAE,KAAK,EAAqB;IAC5D,qBACE;kBACE,cAAA,6WAAC;YAAM,WAAU;;8BACf,6WAAC;8BACC,cAAA,6WAAC;;0CACC,6WAAC;0CAAG;;;;;;0CACJ,6WAAC;0CAAG;;;;;;0CACJ,6WAAC;0CAAG;;;;;;0CACJ,6WAAC;;;;;;;;;;;;;;;;8BAGL,6WAAC;8BACE,MAAM,GAAG,CAAC,CAAC,kBACV,6WAAC;;8CACC,6WAAC;oCAAG,WAAU;8CAAQ,EAAE,IAAI;;;;;;8CAC5B,6WAAC;oCAAG,WAAU;8CAAQ,EAAE,OAAO;;;;;;8CAC/B,6WAAC;oCAAG,WAAU;8CAAQ,EAAE,KAAK;;;;;;8CAC7B,6WAAC;oCAAG,WAAU;8CACZ,cAAA,6WAAC,2RAAA,CAAA,UAAI;wCAAC,MAAM,CAAC,SAAS,EAAE,EAAE,EAAE,EAAE;kDAC5B,cAAA,6WAAC,sTAAA,CAAA,mBAAgB;4CAAC,WAAU;;;;;;;;;;;;;;;;;2BANzB,EAAE,EAAE;;;;;;;;;;;;;;;;;AAiBzB"}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file://D%3A/PP_2/12345%20%E2%80%94%20%D0%BA%D0%BE%D0%BF%D0%B8%D1%8F%20%E2%80%94%20%D0%BA%D0%BE%D0%BF%D0%B8%D1%8F/rater/src/app/_components/profile/userProfile.tsx"],"sourcesContent":["// import Link from \"next/link\";\r\n// import UserTable from \"./userTable\";\r\n\r\n// export default function UserProfile({ user, users }: any) {\r\n//   return (\r\n//     <main className=\"h-screen w-screen\">\r\n//       <div className=\"card w-full h-full rounded-none bg-base-100 shadow-xl p-8\">\r\n//         <div className=\"card-body\">\r\n//           <div className=\"flex items-center space-x-4 mb-6\">\r\n//             <div className=\"avatar\">\r\n//               <div className=\"w-24 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2\">\r\n//                 <img src={user.image ?? \"/default-avatar.png\"} alt=\"Аватар\" />\r\n//               </div>\r\n//             </div>\r\n//             <div>\r\n//               <h2 className=\"card-title text-2xl\">\r\n//                 {user.name ?? \"Фамилия и имя\"} {user.surname ?? \"\"}\r\n//               </h2>\r\n//               <p className=\"text-sm text-gray-500\">{user.email}</p>\r\n//             </div>\r\n//           </div>\r\n\r\n//           <div className=\"grid gap-4 md:grid-cols-3\">\r\n//             <div className=\"stat\">\r\n//               <div className=\"stat-title\">Куплено товаров</div>\r\n//               <div className=\"stat-value\">{user.purchasedItems}</div>\r\n//             </div>\r\n//             <div className=\"stat\">\r\n//               <div className=\"stat-title\">Сумма трат</div>\r\n//               <div className=\"stat-value\">{user.totalSpent.toString()} ₽</div>\r\n//             </div>\r\n//             <div className=\"stat\">\r\n//               <div className=\"stat-title\">Дата регистрации</div>\r\n//               <div className=\"stat-value text-sm\">\r\n//                 {new Date(user.createdAt).toLocaleDateString(\"ru-RU\")}\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n\r\n//           <div className=\"mt-8\">\r\n//             <Link href={`/profile/${user.id}`}>\r\n//               <button className=\"btn btn-outline btn-wide\">Редактировать профиль</button>\r\n//             </Link>\r\n//           </div>\r\n//           <UserTable users={users} />\r\n//         </div>\r\n//       </div>\r\n//     </main>\r\n//   );\r\n// }\r\nimport Link from \"next/link\";\r\nimport UserTable from \"./userTable\";\r\nimport { auth } from \"~/server/auth\";\r\nimport Pagination from \"~/app/ui/pagination\";\r\nimport pages from \"next/dist/build/templates/pages\";\r\n\r\nexport default async function UserProfile({ user, users }: any) {\r\n  const role = (await auth())?.user.role;\r\n  return (\r\n    <div className=\"card w-full h-full rounded-none bg-base-100 shadow-xl p-8\">\r\n      <div className=\"card-body\">\r\n        <div className=\"flex items-center space-x-4 mb-6\">\r\n          <div className=\"avatar\">\r\n            <div className=\"w-24 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2\">\r\n              <img src={user.image ?? \"/default-avatar.png\"} alt=\"Аватар\" />\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h2 className=\"card-title text-2xl\">\r\n              {user.name ?? \"Фамилия и имя\"} {user.surname ?? \"\"}\r\n            </h2>\r\n            <p className=\"text-sm text-gray-500\">{user.email}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid gap-4 md:grid-cols-3\">\r\n          <div className=\"stat\">\r\n            <div className=\"stat-title\">Куплено товаров</div>\r\n            <div className=\"stat-value\">{user.purchasedItems}</div>\r\n          </div>\r\n          <div className=\"stat\">\r\n            <div className=\"stat-title\">Сумма трат</div>\r\n            <div className=\"stat-value\">{user.totalSpent.toString()} ₽</div>\r\n          </div>\r\n          <div className=\"stat\">\r\n            <div className=\"stat-title\">Дата регистрации</div>\r\n            <div className=\"stat-value text-sm\">\r\n              {new Date(user.createdAt).toLocaleDateString(\"ru-RU\")}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mt-8\">\r\n          <Link href={`/profile/${user.id}`}>\r\n            <button className=\"btn btn-outline btn-wide\">Редактировать профиль</button>\r\n          </Link>\r\n        </div>\r\n\r\n        {role === \"ADMIN\" && (\r\n          <div className=\"mt-8\">\r\n            <UserTable users={users} />\r\n          <Pagination totalPages={pages} />\r\n\r\n          </div>\r\n          \r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,gCAAgC;AAChC,uCAAuC;AAEvC,8DAA8D;AAC9D,aAAa;AACb,2CAA2C;AAC3C,oFAAoF;AACpF,sCAAsC;AACtC,+DAA+D;AAC/D,uCAAuC;AACvC,yGAAyG;AACzG,iFAAiF;AACjF,uBAAuB;AACvB,qBAAqB;AACrB,oBAAoB;AACpB,qDAAqD;AACrD,sEAAsE;AACtE,sBAAsB;AACtB,sEAAsE;AACtE,qBAAqB;AACrB,mBAAmB;AAEnB,wDAAwD;AACxD,qCAAqC;AACrC,kEAAkE;AAClE,wEAAwE;AACxE,qBAAqB;AACrB,qCAAqC;AACrC,6DAA6D;AAC7D,iFAAiF;AACjF,qBAAqB;AACrB,qCAAqC;AACrC,mEAAmE;AACnE,qDAAqD;AACrD,yEAAyE;AACzE,uBAAuB;AACvB,qBAAqB;AACrB,mBAAmB;AAEnB,mCAAmC;AACnC,kDAAkD;AAClD,4FAA4F;AAC5F,sBAAsB;AACtB,mBAAmB;AACnB,wCAAwC;AACxC,iBAAiB;AACjB,eAAe;AACf,cAAc;AACd,OAAO;AACP,IAAI;;;;;AACJ;AACA;AACA;AACA;AACA;;;;;;;AAEe,eAAe,YAAY,EAAE,IAAI,EAAE,KAAK,EAAO;IAC5D,MAAM,OAAO,CAAC,MAAM,CAAA,GAAA,8HAAA,CAAA,OAAI,AAAD,GAAG,GAAG,KAAK;IAClC,qBACE,6WAAC;QAAI,WAAU;kBACb,cAAA,6WAAC;YAAI,WAAU;;8BACb,6WAAC;oBAAI,WAAU;;sCACb,6WAAC;4BAAI,WAAU;sCACb,cAAA,6WAAC;gCAAI,WAAU;0CACb,cAAA,6WAAC;oCAAI,KAAK,KAAK,KAAK,IAAI;oCAAuB,KAAI;;;;;;;;;;;;;;;;sCAGvD,6WAAC;;8CACC,6WAAC;oCAAG,WAAU;;wCACX,KAAK,IAAI,IAAI;wCAAgB;wCAAE,KAAK,OAAO,IAAI;;;;;;;8CAElD,6WAAC;oCAAE,WAAU;8CAAyB,KAAK,KAAK;;;;;;;;;;;;;;;;;;8BAIpD,6WAAC;oBAAI,WAAU;;sCACb,6WAAC;4BAAI,WAAU;;8CACb,6WAAC;oCAAI,WAAU;8CAAa;;;;;;8CAC5B,6WAAC;oCAAI,WAAU;8CAAc,KAAK,cAAc;;;;;;;;;;;;sCAElD,6WAAC;4BAAI,WAAU;;8CACb,6WAAC;oCAAI,WAAU;8CAAa;;;;;;8CAC5B,6WAAC;oCAAI,WAAU;;wCAAc,KAAK,UAAU,CAAC,QAAQ;wCAAG;;;;;;;;;;;;;sCAE1D,6WAAC;4BAAI,WAAU;;8CACb,6WAAC;oCAAI,WAAU;8CAAa;;;;;;8CAC5B,6WAAC;oCAAI,WAAU;8CACZ,IAAI,KAAK,KAAK,SAAS,EAAE,kBAAkB,CAAC;;;;;;;;;;;;;;;;;;8BAKnD,6WAAC;oBAAI,WAAU;8BACb,cAAA,6WAAC,2RAAA,CAAA,UAAI;wBAAC,MAAM,CAAC,SAAS,EAAE,KAAK,EAAE,EAAE;kCAC/B,cAAA,6WAAC;4BAAO,WAAU;sCAA2B;;;;;;;;;;;;;;;;gBAIhD,SAAS,yBACR,6WAAC;oBAAI,WAAU;;sCACb,6WAAC,kJAAA,CAAA,UAAS;4BAAC,OAAO;;;;;;sCACpB,6WAAC,+HAAA,CAAA,UAAU;4BAAC,YAAY,0RAAA,CAAA,UAAK;;;;;;;;;;;;;;;;;;;;;;;AAQvC"}},
    {"offset": {"line": 452, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 458, "column": 0}, "map": {"version":3,"sources":["file://D%3A/PP_2/12345%20%E2%80%94%20%D0%BA%D0%BE%D0%BF%D0%B8%D1%8F%20%E2%80%94%20%D0%BA%D0%BE%D0%BF%D0%B8%D1%8F/rater/src/app/api/action/user.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { revalidatePath } from \"next/cache\";\r\nimport { redirect } from \"next/navigation\";\r\nimport { z } from \"zod\";\r\nimport { db } from \"~/server/db\";\r\nimport { auth } from \"~/server/auth\";\r\nimport { $Enums } from \"@prisma/client\";\r\n\r\nexport async function createUser(formData: FormData) {\r\n  const fd = z\r\n    .object({\r\n      email: z.string().email(),\r\n      name: z.string(),\r\n      surname: z.string(),\r\n    })\r\n    .parse({\r\n      email: formData.get(\"email\"),\r\n      name: formData.get(\"name\"),\r\n      surname: formData.get(\"surname\"),\r\n    });\r\n  await db.user.create({ data: fd });\r\n  revalidatePath(\"/profile\");\r\n}\r\n\r\nexport async function deleteUser(formData: FormData) {\r\n  const fd = z\r\n    .object({\r\n      id: z.string(),\r\n    })\r\n    .parse({\r\n      id: formData.get(\"id\"),\r\n    });\r\n  await db.user.delete({ where: { id: fd.id } });\r\n  redirect(\"/profile\");\r\n}\r\n\r\n// export async function updateUser(formData: FormData) {\r\n//   const fd = z\r\n//     .object({\r\n//       id: z.string(),\r\n//       email: z.string().email(),\r\n//       name: z.string(),\r\n//       surname: z.string(),\r\n//       role: z.nativeEnum($Enums.Role),\r\n\r\n//     })\r\n//     .parse({\r\n//       id: formData.get(\"id\"),\r\n//       email: formData.get(\"email\"),\r\n//       name: formData.get(\"name\"),\r\n//       surname: formData.get(\"surname\"),\r\n//       role: formData.get(\"role\"),\r\n\r\n//     });\r\n//   await db.user.update({ where: { id: fd.id }, data: fd });\r\n//   //revalidatePath(\"/profile/\" + fd.id);\r\n//   revalidatePath(\"/profile\");\r\n// }\r\n\r\n  export async function updateUser(formData: FormData) {\r\n    const fd = z\r\n      .object({\r\n        id: z.string(),  \r\n        email: z.string().email(),    \r\n        name: z.string(),\r\n        surname: z.string(),\r\n        role: z.nativeEnum($Enums.Role),\r\n        image: z.string(),\r\n\r\n      })\r\n      .parse({\r\n        id: formData.get(\"id\"),  \r\n        image: formData.get(\"image\"),\r\n        email: formData.get(\"email\"),    \r\n        name: formData.get(\"name\"),\r\n        surname: formData.get(\"surname\"),\r\n        role: formData.get(\"role\"),\r\n      });\r\n    await db.user.update({ where: { id: fd.id }, data: fd });\r\n    revalidatePath(\"/profile\");\r\n    redirect(\"/profile\");\r\n  }\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AAEA;;AAHA;AADA;;;;;;;;AAMO,eAAe,uCAAQ,GAAR,WAAW,QAAkB;IACjD,MAAM,KAAK,qLAAA,CAAA,IAAC,CACT,MAAM,CAAC;QACN,OAAO,qLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,KAAK;QACvB,MAAM,qLAAA,CAAA,IAAC,CAAC,MAAM;QACd,SAAS,qLAAA,CAAA,IAAC,CAAC,MAAM;IACnB,GACC,KAAK,CAAC;QACL,OAAO,SAAS,GAAG,CAAC;QACpB,MAAM,SAAS,GAAG,CAAC;QACnB,SAAS,SAAS,GAAG,CAAC;IACxB;IACF,MAAM,mHAAA,CAAA,KAAE,CAAC,IAAI,CAAC,MAAM,CAAC;QAAE,MAAM;IAAG;IAChC,CAAA,GAAA,4PAAA,CAAA,iBAAc,AAAD,EAAE;AACjB;AAEO,eAAe,uCAAQ,GAAR,WAAW,QAAkB;IACjD,MAAM,KAAK,qLAAA,CAAA,IAAC,CACT,MAAM,CAAC;QACN,IAAI,qLAAA,CAAA,IAAC,CAAC,MAAM;IACd,GACC,KAAK,CAAC;QACL,IAAI,SAAS,GAAG,CAAC;IACnB;IACF,MAAM,mHAAA,CAAA,KAAE,CAAC,IAAI,CAAC,MAAM,CAAC;QAAE,OAAO;YAAE,IAAI,GAAG,EAAE;QAAC;IAAE;IAC5C,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;AACX;AAyBS,eAAe,uCAAQ,GAAR,WAAW,QAAkB;IACjD,MAAM,KAAK,qLAAA,CAAA,IAAC,CACT,MAAM,CAAC;QACN,IAAI,qLAAA,CAAA,IAAC,CAAC,MAAM;QACZ,OAAO,qLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,KAAK;QACvB,MAAM,qLAAA,CAAA,IAAC,CAAC,MAAM;QACd,SAAS,qLAAA,CAAA,IAAC,CAAC,MAAM;QACjB,MAAM,qLAAA,CAAA,IAAC,CAAC,UAAU,CAAC,6HAAA,CAAA,SAAM,CAAC,IAAI;QAC9B,OAAO,qLAAA,CAAA,IAAC,CAAC,MAAM;IAEjB,GACC,KAAK,CAAC;QACL,IAAI,SAAS,GAAG,CAAC;QACjB,OAAO,SAAS,GAAG,CAAC;QACpB,OAAO,SAAS,GAAG,CAAC;QACpB,MAAM,SAAS,GAAG,CAAC;QACnB,SAAS,SAAS,GAAG,CAAC;QACtB,MAAM,SAAS,GAAG,CAAC;IACrB;IACF,MAAM,mHAAA,CAAA,KAAE,CAAC,IAAI,CAAC,MAAM,CAAC;QAAE,OAAO;YAAE,IAAI,GAAG,EAAE;QAAC;QAAG,MAAM;IAAG;IACtD,CAAA,GAAA,4PAAA,CAAA,iBAAc,AAAD,EAAE;IACf,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;AACX;;;IAzEoB;IAgBA;IAmCE;;AAnDF,8WAAA;AAgBA,8WAAA;AAmCE,8WAAA"}},
    {"offset": {"line": 541, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 547, "column": 0}, "map": {"version":3,"sources":["file://D%3A/PP_2/12345%20%E2%80%94%20%D0%BA%D0%BE%D0%BF%D0%B8%D1%8F%20%E2%80%94%20%D0%BA%D0%BE%D0%BF%D0%B8%D1%8F/rater/src/app/_components/profile/addUser.tsx"],"sourcesContent":["import { UserPlusIcon } from \"@heroicons/react/16/solid\";\r\nimport { createUser } from \"~/app/api/action/user\";\r\nimport { auth } from \"~/server/auth\";\r\n\r\n\r\nexport async function AddUser() {\r\n  const role = (await auth())?.user.role;\r\n  if (role === \"ADMIN\") return (\r\n    <details className=\"collapse bg-base-100\" tabIndex={0}>\r\n      <summary className=\"collapse-title text-xl font-medium\">\r\n        <UserPlusIcon className=\"w-6\" />\r\n      </summary>\r\n      <form action={createUser} className=\"collapse-content form-control\">\r\n        <div className=\"flex flex-col max-w-xs space-y-2\">\r\n          <label>Электронная почта</label>\r\n          <input type=\"email\" name=\"email\" required className=\"input input-bordered\"/>\r\n          <label>Имя</label>\r\n          <input type=\"text\" name=\"name\" required className=\"input input-bordered\"/>\r\n          <label>Фамилия</label>\r\n          <input type=\"text\" name=\"surname\" required className=\"input input-bordered\"/>\r\n        <label>Роль</label><select\r\n                name=\"role\"\r\n                required\r\n                className=\"select select-bordered\"\r\n              >\r\n                <option value=\"USER\">USER</option>\r\n                <option value=\"ADMIN\">ADMIN</option>\r\n                <option value=\"WORKER\">WORKER</option>\r\n              </select>\r\n          <button type=\"submit\" className=\"btn btn-primary\">\r\n            Добавить\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </details>\r\n  )}"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;;AAKO,eAAe;IACpB,MAAM,OAAO,CAAC,MAAM,CAAA,GAAA,8HAAA,CAAA,OAAI,AAAD,GAAG,GAAG,KAAK;IAClC,IAAI,SAAS,SAAS,qBACpB,6WAAC;QAAQ,WAAU;QAAuB,UAAU;;0BAClD,6WAAC;gBAAQ,WAAU;0BACjB,cAAA,6WAAC,4SAAA,CAAA,eAAY;oBAAC,WAAU;;;;;;;;;;;0BAE1B,6WAAC;gBAAK,QAAQ,mIAAA,CAAA,aAAU;gBAAE,WAAU;0BAClC,cAAA,6WAAC;oBAAI,WAAU;;sCACb,6WAAC;sCAAM;;;;;;sCACP,6WAAC;4BAAM,MAAK;4BAAQ,MAAK;4BAAQ,QAAQ;4BAAC,WAAU;;;;;;sCACpD,6WAAC;sCAAM;;;;;;sCACP,6WAAC;4BAAM,MAAK;4BAAO,MAAK;4BAAO,QAAQ;4BAAC,WAAU;;;;;;sCAClD,6WAAC;sCAAM;;;;;;sCACP,6WAAC;4BAAM,MAAK;4BAAO,MAAK;4BAAU,QAAQ;4BAAC,WAAU;;;;;;sCACvD,6WAAC;sCAAM;;;;;;sCAAY,6WAAC;4BACZ,MAAK;4BACL,QAAQ;4BACR,WAAU;;8CAEV,6WAAC;oCAAO,OAAM;8CAAO;;;;;;8CACrB,6WAAC;oCAAO,OAAM;8CAAQ;;;;;;8CACtB,6WAAC;oCAAO,OAAM;8CAAS;;;;;;;;;;;;sCAE7B,6WAAC;4BAAO,MAAK;4BAAS,WAAU;sCAAkB;;;;;;;;;;;;;;;;;;;;;;;AAMzD"}},
    {"offset": {"line": 704, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 710, "column": 0}, "map": {"version":3,"sources":["file://D%3A/PP_2/12345%20%E2%80%94%20%D0%BA%D0%BE%D0%BF%D0%B8%D1%8F%20%E2%80%94%20%D0%BA%D0%BE%D0%BF%D0%B8%D1%8F/rater/src/app/profile/page.tsx"],"sourcesContent":["\nimport React from \"react\";\nimport { db } from \"~/server/db\";\nimport Pagination from \"../ui/pagination\";\nimport UserProfile from \"../_components/profile/userProfile\";\nimport { AddUser } from \"../_components/profile/addUser\";\nimport { redirect } from \"next/navigation\";\nimport { auth } from \"~/server/auth\";\n\ninterface PageProps {\n  searchParams?: {\n    size?: string;\n    page?: string;\n    userId?: string;\n  };\n}\n\nexport default async function Page({ searchParams }: PageProps) {\n  const session = await auth();\n  const page = Number(searchParams?.page ?? \"1\");\n  const size = Number(searchParams?.size ?? \"15\");\n\n  const count = await db.user.count();\n\n  const users = await db.user.findMany({\n    skip: (page - 1) * size,\n    take: size,\n  });\n\n  const pages = Math.ceil(count / size);\n  if (!session?.user?.email) {\n    redirect(\"/api/auth/signin\");\n  }\n\n  const user = await db.user.findUnique({\n    where: { email: session.user.email },\n  });\n  // const user = searchParams?.userId\n  //   ? await db.user.findUnique({\n  //       where: { id: searchParams.userId },\n  //     })\n  //   : users[0];\n\n  if (!user) {\n    return <div>Пользователь не найден</div>;\n  }\n  const role = (await auth())?.user.role;\n  const isAuthorized = role === \"ADMIN\" || role === \"WORKER\";\n\n  return (\n    <div>\n      {role === \"ADMIN\" && <AddUser />}\n        <UserProfile user={user} users={isAuthorized ? users : []} totalPages={pages} />\n      \n      {isAuthorized && (\n        <div className=\"mt-8\">\n          <Pagination totalPages={pages} />\n        </div>\n      )}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AADA;;;;;;;;AAWe,eAAe,KAAK,EAAE,YAAY,EAAa;IAC5D,MAAM,UAAU,MAAM,CAAA,GAAA,8HAAA,CAAA,OAAI,AAAD;IACzB,MAAM,OAAO,OAAO,cAAc,QAAQ;IAC1C,MAAM,OAAO,OAAO,cAAc,QAAQ;IAE1C,MAAM,QAAQ,MAAM,mHAAA,CAAA,KAAE,CAAC,IAAI,CAAC,KAAK;IAEjC,MAAM,QAAQ,MAAM,mHAAA,CAAA,KAAE,CAAC,IAAI,CAAC,QAAQ,CAAC;QACnC,MAAM,CAAC,OAAO,CAAC,IAAI;QACnB,MAAM;IACR;IAEA,MAAM,QAAQ,KAAK,IAAI,CAAC,QAAQ;IAChC,IAAI,CAAC,SAAS,MAAM,OAAO;QACzB,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IACX;IAEA,MAAM,OAAO,MAAM,mHAAA,CAAA,KAAE,CAAC,IAAI,CAAC,UAAU,CAAC;QACpC,OAAO;YAAE,OAAO,QAAQ,IAAI,CAAC,KAAK;QAAC;IACrC;IACA,oCAAoC;IACpC,iCAAiC;IACjC,4CAA4C;IAC5C,SAAS;IACT,gBAAgB;IAEhB,IAAI,CAAC,MAAM;QACT,qBAAO,6WAAC;sBAAI;;;;;;IACd;IACA,MAAM,OAAO,CAAC,MAAM,CAAA,GAAA,8HAAA,CAAA,OAAI,AAAD,GAAG,GAAG,KAAK;IAClC,MAAM,eAAe,SAAS,WAAW,SAAS;IAElD,qBACE,6WAAC;;YACE,SAAS,yBAAW,6WAAC,gJAAA,CAAA,UAAO;;;;;0BAC3B,6WAAC,oJAAA,CAAA,UAAW;gBAAC,MAAM;gBAAM,OAAO,eAAe,QAAQ,EAAE;gBAAE,YAAY;;;;;;YAExE,8BACC,6WAAC;gBAAI,WAAU;0BACb,cAAA,6WAAC,+HAAA,CAAA,UAAU;oBAAC,YAAY;;;;;;;;;;;;;;;;;AAKlC"}},
    {"offset": {"line": 799, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 811, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 815, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}